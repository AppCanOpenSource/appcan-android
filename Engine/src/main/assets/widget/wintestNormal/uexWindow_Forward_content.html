<!DOCTYPE html>
<html class="um landscape min-width-240px min-width-320px min-width-480px min-width-768px min-width-1024px">
  <head>
    <title>
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="../css/ui-base.css">
    <link rel="stylesheet" href="../css/ui-box.css">
    <link rel="stylesheet" href="../css/ui-color.css">
	<link rel="stylesheet" href="../css/ui-res.css">
    <link rel="stylesheet" href="../css/ui-btn.css">
    <link rel="stylesheet" href="../css/index.css">
    <script src="../js/zy_control.js">
    </script>
    <script src="../js/zy_click.js">
    </script>
    <script type="text/javascript">
		function showConfirm(){
		var value = document.getElementById('confirmbutton').value;
		if(value == null || value.length == 0){
			alert("参数不能为空");
			return;
		}
		var mycars=value.split(";");
		uexWindow.confirm(document.getElementById('confirmTitle').value,document.getElementById('confirmMsg').value,mycars);
	}

	function ConfirmSuccess(opId, dataType, data){
		alert("用户点击了第 " + data + "个按钮");
	}

	function selectList(opId, dataType, data){
		alert("用户点击了第 " + "" + "个按钮");
	}

	function showPrompt(){
		var value = document.getElementById('promptbutton').value;
		if(value == null || value.length == 0){
			alert("参数不能为空");
			return;
		}
		var mycars=value.split(";");
		uexWindow.prompt(document.getElementById('promptTitle').value,document.getElementById('promptMsg').value,
		document.getElementById('defaultMsg').value,mycars);

	}

	function promptSuccess(opId, dataType, data){
		var obj = eval('('+data+')');
		alert("用户的输入：" + obj.value + ",点击了第" + obj.num + "个按钮");
	}

	function showActionSheet(){
		var value = document.getElementById('actionSheetButton').value;
		if(value == null || value.length == 0){
			alert("参数不能为空");
			return;
		}
		var mycars=value.split(";");
		uexWindow.actionSheet(document.getElementById('actionSheetTitle').value,document.getElementById('cancelMsg').value,mycars);
	}

	function showSelectList(){
		var value = document.getElementById('list_item').value;
		if(value == null || value.length == 0){
			alert("参数不能为空");
			return;
		}
		var mycars=value.split("*");
		uexWindow.selectList(mycars);
	}

	function actionSheetSuccess(opId, dataType, data){
		alert("用户点击了第 " + data + "个按钮");
	}

	function msg(){
		var type = document.getElementById('t_type').value;
		var loc = document.getElementById('t_loc').value;
		var msg = document.getElementById('t_msg').value;
		var del = document.getElementById('t_del').value;
		uexWindow.toast(type, loc, msg, del);
	}

	function closeToast(){
		uexWindow.closeToast();
	}

		var flag_normal = 0x0; //标准不加密
		var flag_dialog = 0x1; //对话框
		var flag_ob 	= 0x2; //加密

	function openn(){
		var anim = document.getElementById('opp').value;
		var dizhi = document.getElementById('dizhi').value;
		var time = document.getElementById('tim').value;
		uexWindow.open('dd', '0', dizhi, anim, '', '', flag_normal|64, time);
	}

	function openPage(name,page){
		uexWindow.open(name, '0', page, '0', '','', 0);
	}

	function openxll(){
	var anim = document.getElementById('opp').value;
	var time = document.getElementById('tim').value;
		uexWindow.open('dd', '0', 'window/vancl/helloWorld.html', anim, '', '', flag_normal|64, time);
	}

	function opennn(arg){
		uexWindow.open('ddd', '0', 'xx.html', arg, '', '', (flag_normal|flag_ob));
	}

	function openh(arg){
		uexWindow.open('exc', '0', 'window/hidden.html', '5', '', '', arg);
	}

	function openMenu(){
		var as=new Array(3);
		as[0]=document.getElementById('menu_list_0').value;
		as[1]=document.getElementById('menu_list_1').value;
		as[2]=document.getElementById('menu_list_2').value;
		uexWindow.actionSheet(document.getElementById('menu_title').value,document.getElementById('menu_button').value,as)
	}

	function openpop(){
		var x = document.getElementById("xx").value;
		var y = document.getElementById("yy").value;
		var w = document.getElementById("ww").value;
		var h = document.getElementById("hh").value;
		uexWindow.openPopover("sss", "0", "window/popoverPage.html", "", x, y, w, h, "5", "130");
	}

	function closepop(){
		uexWindow.closePopover("sss");
	}

	function openpopOauth(){
		var x = document.getElementById("xx1").value;
		var y = document.getElementById("yy1").value;
		var w = document.getElementById("ww1").value;
		var h = document.getElementById("hh1").value;
		uexWindow.openPopover("sss", "0", "window/pop.html", "", x, y, w, h, "10", "1");
	}

	function onOAuth(name, url){
		document.getElementById('ot').innerHTML = "popOver Name：" + name + " , 改变后的url:" + url;
	}

	function openad(){
		var lo = document.getElementById("loca").value;
		uexWindow.openAd(lo, '0', '5', '8');
	}

	function get(){
			uexWindow.getWindowUrl("aaa");
	}

	function getSuc(windName, url){
			alert("name:" + windName + ",url:" + url);
	}

	function stateChange(state){

		if(state == 0){
			//alert("state:前台");
		}else{
			//alert("state:后台");
		}
	}

	function getCurState(opcode,datatype,data){
		alert(data);
	}

	function getsyn(){
		alert('Query参数值(android3.0及以上专用,其余版本和Iphone上均取不到值):' + uexWindow.getUrlQuery());
	}

	function getQuery(opcode,datatype,data){
		alert(data);
	}

	function preOpen(){
		uexWindow.open('preopen', '0', 'window/vancl/index.html', '5', '', '', '64');
	}

	function preOpen1(){
		uexWindow.open('preopen1', '0', 'window/popindex.html', '5', '', '', '64');
	}

    function createProgressDialog(){
        var title = document.getElementById("t_title").value;
        var content = document.getElementById("t_message").value;
        var cancel = document.getElementById("t_cancel").value;
        uexWindow.createProgressDialog(title,content,cancel);
    }

	window.uexOnload = function(type){
		if(type == 0){
			uexWindow.onStateChange=stateChange;
			uexWindow.closeSlibing("1");
			uexWindow.closeSlibing("2");
			uexWindow.cbConfirm = ConfirmSuccess;
			uexWindow.cbGetState = getCurState;
			uexWindow.cbPrompt = function(opCode, errorCode, errorInfo){
				alert(""+errorInfo);
			};
			uexWindow.cbGetUrlQuery = getQuery;
			uexWindow.cbActionSheet = actionSheetSuccess;
			uexWindow.onKeyPressed = function(keyCode){
			document.getElementById('key').innerHTML = "点击了：" + keyCode + " 键";
			}
			uexWidgetOne.cbError = function(opCode, errorCode, errorInfo){
				alert("errorCode:" + errorCode + "\n"+"errorInfo:" + errorInfo);
			}
			uexWindow.onWindowUrlChange = getSuc;
			uexWindow.onOAuthInfo = onOAuth;
		}
	}
	
	function winBack(){
		uexWindow.evaluateScript("uexWindow","0", "winBack()");
	}
    
    function funClose() {
        
        //如果uexWindow 是浮动窗口，将关闭浮动窗口
        uexWindow.close();
        
    }
    
    
    function testForwardWin() {
        
        //打开一个窗口
        
        var name = "uexWindow_Forward";
        
        uexWindow.open(name, '0', name+".html", '2', '', '', 0);
    }
    
    
</script>
  </head>
<body class="um-vp" ontouchstart>
	<div class="conbor">
		<div class="consj">
            
           

			<span>9.打开一个新窗口，测试windowForward</span>
			<span>地址:</span>
			<input class="textbox" id="dizhi" type="text" value="window/vancl/index.html">
			<span>动画:</span>
			<input class="textbox" id="opp" type="text" value="1">
			<span>动画时长:</span>
			<input class="textbox" id="tim" type="text" value="500">
			<input class="btn"  type="button" value="打开新窗口" onclick=openn()>
			<input class="btn" type="button" value="前进到新窗口" onclick="uexWindow.windowForward(1)" />

			<input class="btn" type="button" value="打开加密网页" onclick="uexWindow.loadObfuscationData('window/xx.html')" /><br>


		</div>
	</div>
</body>
</html>
